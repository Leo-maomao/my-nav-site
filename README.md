# AI 智能导航站 Pro 🚀

> **"永远相信美好的事即将发生。"**

这是一个为 AI 时代打造的**现代化、响应式、云端同步**的个人导航与仪表盘系统。它不仅是一个网址收藏夹，更是一个集成了实时资讯、天气、时间管理、访客分析与用户反馈的智能主页。

本项目基于 **HTML5/CSS3/ES6** 构建，引入 **Supabase** 作为后端数据库，实现了配置信息的云端同步与用户反馈的实时收集，同时保持了静态部署的轻量级特性。

---

## ✨ 核心功能

### 1. 🛠️ 云端配置管理 (Cloud Configuration)
- **实时同步**：集成 Supabase 数据库，所有工具链接的增删改查操作均实时同步至云端，多设备无缝切换。
- **本地回退**：当数据库连接异常时，自动降级为 LocalStorage 本地存储模式，确保服务永远可用。
- **可视化编辑**：内置管理员模式，支持拖拽式（规划中）或表单式管理工具分类与条目。

### 2. 🤖 智能资讯聚合 (Smart News Feed)
- **多源订阅**：聚合 **机器之心、量子位、36氪、雷峰网** 等主流 AI 科技媒体。
- **智能配图**：内置关键词匹配算法，自动根据新闻标题（如 OpenAI, Apple, Robot）匹配高质量封面图。
- **平滑轮播**：响应式卡片轮播设计，支持触屏滑动与自动播放。

### 3. 🔐 安全的管理员系统 (Secure Admin)
- **隐形入口**：摒弃传统的显式登录按钮，采用极客风的快捷键唤醒。
  - **唤醒方式**：按下 `Ctrl + Shift + K` (Windows/Linux) 或 `Cmd + Shift + K` (Mac)。
- **身份验证**：基于 Supabase Auth 的邮箱密码登录，结合 RLS (Row Level Security) 策略，确保只有管理员有权修改数据。
- **反馈管理**：管理员可在线查看并管理用户提交的问题反馈，支持分页浏览。

### 4. 🌦️ 场景化仪表盘 (Contextual Dashboard)
- **实况天气**：基于 Open-Meteo 与 IP 定位，展示当前气温、天气状况及 **未来 5 天气温趋势折线图**。
- **翻页时钟**：经典翻页钟设计，带有农历、干支纪年显示。
- **访客洞察**：集成 51.la 统计，实时展示**当前在线、今日访客、累计访客**，数据真实透明。

### 5. 📱 极致响应式 (Responsive & Adaptive)
- **自动缩放**：独创的 Auto-Zoom 逻辑，在笔记本等中小屏幕上自动等比缩放，保持最佳视觉比例。
- **移动端适配**：侧边栏在手机端自动折叠，Banner 比例智能调整（16:9 vs 2.5:1）。

---

## 📂 项目结构

```text
nav/
├── public/                     # 静态资源目录
│   ├── css/
│   │   └── style.css           # 样式文件 (组件、响应式布局、动画)
│   ├── js/
│   │   ├── config.js           # 应用配置 (Supabase 客户端初始化)
│   │   ├── initial-data.js     # 默认工具数据 (含版本号，用于云端同步)
│   │   ├── script.js           # 核心逻辑 (UI渲染、天气、搜索等)
│   │   ├── services/
│   │   │   ├── analytics.js    # 51.la 埋点服务
│   │   │   └── data-service.js # Supabase 数据操作封装
│   │   └── components/
│   │       └── modal.js        # 通用弹窗组件
│   └── index.html              # 入口文件
├── worker.js                   # Cloudflare Worker (排名更新 API)
├── wrangler.toml               # Cloudflare 部署配置 (含环境变量)
├── CLAUDE.md                   # AI 助手项目规范
└── README.md                   # 项目文档
```

---

## 🚀 部署指南

### 1. 准备 Supabase 数据库
1. 注册并登录 [Supabase](https://supabase.com)
2. 创建一个新项目
3. 在 SQL Editor 中运行以下建表语句：
   ```sql
   -- 配置表
   create table config (
     key text primary key,
     value jsonb,
     updated_at timestamptz default now()
   );

   -- 反馈表
   create table feedback (
     id bigint generated by default as identity primary key,
     content text not null,
     contact text,
     created_at timestamptz default now()
   );

   -- 开启 RLS 并配置策略 (此处省略详细策略，请参考 Supabase 文档)
   ```
4. 获取项目的 `URL` 和 `Anon Key`

### 2. 配置项目
修改 `public/js/config.js` 中的 Supabase 配置：
```javascript
var SUPABASE_URL = "https://your-project-id.supabase.co";
var SUPABASE_KEY = "your-anon-key";
```

同时更新 `wrangler.toml` 中的环境变量（用于 Worker API）：
```toml
[vars]
SUPABASE_URL = "https://your-project-id.supabase.co"
SUPABASE_KEY = "your-anon-key"
```

### 3. 部署

本项目支持**双平台同步部署**：GitHub Pages + Cloudflare Pages

#### 方式一：GitHub Pages（推荐）
代码推送到 GitHub 后，会自动触发部署：

1. 确保 GitHub 仓库设置中已启用：
   - **Settings → Pages → Source** 选择 `GitHub Actions`
2. 每次 push 到 `main` 分支，自动部署
3. 部署成功后，访问：`https://leo-maomao.github.io/my-nav-site/`

#### 方式二：Cloudflare Pages
通过 Git 仓库自动部署：

1. 将代码推送到 GitHub
2. 在 Cloudflare Pages 中连接你的仓库
3. 构建设置：
   - **构建命令**：留空（静态项目）
   - **构建输出目录**：`public`
4. 保存并部署

或使用 Wrangler CLI：
```bash
npm install -g wrangler
wrangler login
wrangler pages deploy public --project-name=my-nav-site
```

> **说明**：两个平台会自动同步更新，无需额外操作。

---

## 🛠️ 管理员指南

1. **进入管理模式**：
   - 打开网站，按下 `Ctrl + Shift + K`。
   - 输入管理员邮箱与密码（需在 Supabase Auth 中预先创建用户）。
2. **功能操作**：
   - **编辑配置**：点击侧边栏底部的设置图标，开启编辑模式，此时所有卡片右上角会出现编辑/删除按钮。
   - **查看反馈**：点击侧边栏底部的消息图标，查看用户提交的反馈。
   - **退出登录**：点击侧边栏底部的退出图标。

---

## 🤝 贡献

欢迎提交 Issue 或 Pull Request 来改进这个项目！

---

© 2025 毛毛的导航站 | Built with ❤️ using Cursor & Gemini
